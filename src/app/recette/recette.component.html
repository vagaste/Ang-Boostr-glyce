<h2>
  Créez votre propre recette !
</h2>
<input matInput name="recette" placeholder="Nom de la recette" 
[(ngModel)]="recette.name"/>
<br>
<br>
<button mat-icon-button>
  <mat-icon>
    <a (click)="stockPortion()">add</a>
  </mat-icon>
</button>
<br>
<label> Total charge glycémique : {{cgRecette}}
  </label>
<br>
<!-- <button>Enregistrer recette</button> -->
<button>
    <a (click)="create()">Enregistrer recette</a>
</button>
<br>
<br>

<!-- autocomplete -->
<mat-toolbar>
  <form>
    <mat-form-field>
      <input type="text" placeholder="Saisir un aliment" 
          aria-label="recetteAliment" 
          matInput [formControl]="myControl" 
          [matAutocomplete]="auto"
          [(ngModel)] = "selectedAliment"
          name="nomAliment" >
      <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
        <mat-option *ngFor="let option of filteredOptions | async" 
        [value]="option">
          {{option.name}}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
    <!-- formulaire de calcul de la charge glycémique, calories...-->
    <label> Grammes :
      <input type="number" [(ngModel)]="quantityPortion" name="quantity"/>
    </label>
  </form>
</mat-toolbar>


<TABLE BORDER>
    <TR>
      <TH>Aliment</TH> <TH>Grammes</TH> <TH>Charge Glycémique</TH>
    </TR>
    <TR *ngFor="let port of tableauPortion">
      <TD>{{port.nameAliment}}</TD> 
      <TD>{{port.quantityPortion}}</TD> 
      <TD>{{port.cgPortion}}</TD>
    </TR>
  </TABLE>
